# Configuration for the Renkforce RF1000 3D printer
# Note: This is work in progress, not yet ready for production!

[stepper_x]
step_pin: PF0
dir_pin: !PF1
enable_pin: PD7
# 10mm slope, 200 steps per revolution, 32 microsteps: 10/200 / 32
step_distance: 0.0015625
endstop_pin: !PE5
position_endstop: 0
position_max: 245
homing_speed: 50.0

[drv8711 stepper_x]
cs_pin: PL0
spi_software_sclk_pin: PD5
spi_software_miso_pin: PD4
spi_software_mosi_pin: PD6

[stepper_y]
step_pin: PF6
dir_pin: PF7
enable_pin: PF2
# 14 teeth each 3mm, 200 steps per revolution, 32 microsteps: 14*3/200 / 32
step_distance: 0.0065625
endstop_pin: !PE4
position_endstop: 0
position_max: 245
homing_speed: 50.0

[drv8711 stepper_y]
cs_pin: PL2
spi_software_sclk_pin: PD5
spi_software_miso_pin: PD4
spi_software_mosi_pin: PD6

[stepper_z]
step_pin: PL3
dir_pin: PL1
enable_pin: PK0
# 5mm slope, 200 steps per revolution, 2x step-down via belt, 32 microsteps: 5/(200*2) / 32
step_distance: 0.000390625
endstop_pin: !PC6
position_endstop: 0
position_max: 180
homing_speed: 7.0

[drv8711 stepper_z]
cs_pin: PL4
spi_software_sclk_pin: PD5
spi_software_miso_pin: PD4
spi_software_mosi_pin: PD6


[extruder]
step_pin: PA4
dir_pin: PA6
enable_pin: PA2
# 8.75 steps per mm, 32 microsteps: 1/(8.75*32)
step_distance: 0.00357143
nozzle_diameter: 0.400
filament_diameter: 1.75
heater_pin: PB4
sensor_type: ATC Semitec 104GT-2
sensor_pin: PK5
pullup_resistor: 4700
inline_resistor: 0
control: pid
pid_Kp: 12.5
pid_Ki: 3.2
pid_Kd: 18
min_extrude_temp: 170
min_temp: 12
max_temp: 280

[drv8711 extruder]
cs_pin: PL6
spi_software_sclk_pin: PD5
spi_software_miso_pin: PD4
spi_software_mosi_pin: PD6


[thermistor EPCOS 100K B57550G0104]
temperature1: 25
resistance1: 100000
beta: 3066


[heater_bed]
heater_pin: PH5
sensor_type: EPCOS 100K B57550G0104
sensor_pin: PK7
control: pid
pid_Kp: 53.74
pid_Ki: 7.48
pid_Kd: 96.52
min_temp: 12
max_temp: 130


# Micro-controller information.
[mcu]
serial: /dev/ttyUSB0

# The printer section controls high level printer settings.
[printer]
kinematics: cartesian
max_velocity: 150
max_accel: 1000
max_z_velocity: 9
max_z_accel: 70

